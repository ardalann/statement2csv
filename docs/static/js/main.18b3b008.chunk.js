(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,n,t){e.exports=t(39)},2:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=2},25:function(e,n){},27:function(e,n){},28:function(e,n){},29:function(e,n){},30:function(e,n){},37:function(e,n,t){},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(10),o=t.n(c),i=t(11),u=t(12),s=t(15),l=t(13),f=t(3),p=t(16),h=t(5),d=t(4),g=t.n(d),m=t(14),w=t.n(m);g.a.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.1.266/pdf.worker.js";var v={rowsBeginning:/^DATE$/g,rowsEnding:/^NEW BALANCE$/g,rowBeginning:/^[A-Z]{3} [0-9]{2}$/g,rowEnding:null,ignoreNumeric:!0,replacements:[{search:"CALGARY AB",replace:""},{search:/^([A-Z]{3} [0-9]{2})[ ]{2,4}[A-Z]{3} [0-9]{2}[ ]{1,2}(.*)$/g,replace:"$1{SPLIT}$2"},{search:/\$([0-9]),([0-9]{3})/g,replace:"$1$2"},{search:/(-?)\$([0-9]+\.[0-9]{2})$/g,replace:"$1$2"}],joins:[{search:/^Foreign Currency-(.*)$/g,replace:" ($1",join:1},{search:/^Exchange rate-(.*)$/g,replace:" - Rate $1)",join:1}],columnTitles:["Date","Description","Amount"],dateColumn:0,inputDatePattern:"ll DD",outputDatePattern:"L"},E=function e(n,t,r){return t=t||1,r=r||[v.columnTitles],n.getPage(t).then(function(a){return a.getTextContent().then(function(a){var c;return(c=r).push.apply(c,Object(h.a)(function(e){var n=[],t=[],r=!1;e.forEach(function(e){if(e.str.match(v.rowsBeginning))r=!0;else if(e.str.match(v.rowsEnding))r=!1;else if(v.ignoreNumeric&&!isNaN(e.str));else if(r){var t=e.str;v.replacements.forEach(function(e){t=t.replace(e.search,e.replace)});var a=(t=t.trim()).split(/\{SPLIT\}/g).map(function(e){return e.trim()}).filter(function(e){return e.length>0});n.push.apply(n,Object(h.a)(a))}});var a=function(e){e[v.dateColumn]=w()(e[v.dateColumn],v.inputDatePattern).format(v.outputDatePattern),e.forEach(function(n,t){v.joins.forEach(function(n){e[t].search(n.search)>-1&&(e[t]=e[t].replace(n.search,n.replace),e[n.join]+=e[t],e.splice(t,1))})}),t.push(e),e.length!==v.columnTitles.length&&console.warn("Invalid row length",e)},c=[];return n.forEach(function(e){v.rowBeginning&&e.match(v.rowBeginning)?(c.length>0&&(a(c),c=[]),c.push(e)):v.rowEnding&&e.match(v.rowEnding)?(c.push(e),a(c),c=[]):c.push(e)}),c.length>0&&(a(c),c=[]),t}(a.items))),t<n.numPages?e(n,t+1,r):r})})},j=function(e){return g.a.getDocument(e).then(function(e){return E(e)}).then(function(e){return e.map(function(e){return e.map(function(e){return'"'.concat(e,'"')}).join(",")}).join("\n")})},A=(t(37),function(e){function n(){var e,t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(a)))).state={encodedCsv:"",fileName:""},t.handleUpload=function(e){var n=t._input.files[0].name.replace(".pdf",".csv"),r=new FileReader,a=Object(f.a)(t);r.onload=function(){var e=this.result;j(e).then(function(e){a.setState({encodedCsv:"data:text/csv;charset=utf-8,".concat(encodeURI(e).replace(/#/g,"-")),fileName:n})})},r.readAsArrayBuffer(t._input.files[0])},t}return Object(p.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"App-intro"},a.a.createElement("input",{className:"App-input",type:"file",ref:function(n){return e._input=n},onChange:this.handleUpload}),a.a.createElement("a",{className:"App-link",ref:function(n){return e._link=n},href:this.state.encodedCsv,download:this.state.fileName},this.state.fileName)))}}]),n}(r.Component));t(38);o.a.render(a.a.createElement(A,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.18b3b008.chunk.js.map